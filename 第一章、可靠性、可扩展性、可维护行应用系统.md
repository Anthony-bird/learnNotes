# 笔记1

## 第一章、可靠性、可扩展性、可维护行应用系统

数据密集型应用通常也是基千标准模块构建而成， 每个模块负责单一的常用功能。包括数据库，高数缓存，索引，流式处理，批处理。

认识数据系统

**对大多数软件系统都极为重要的三个问题：**

***可靠性***(Reliability) 当出现意外情况如硬件、 软件故障、 人为失误等， 系统应可以继续正常运转： 虽然性能可能有所降低， 但确保功能正确。 

***可扩展性***(Scalability) 随着规模的增长， 例如数据量、 流量或复杂性， 系统应以合理的方式来匹配这种增长

***可维护性***(Maintainability) 随着时间的推移， 许多新的入员参与到系统开发和运维， 以维护现有功能或适配 新场景等， 系统都应高效运转。

**硬件故障**:为硬件添加冗余来减少系统故障率。

**软件错误**  

**人为失误**

**可靠性的重要性**

**描述负载**

**描述性能**   延迟与响应时间：延迟(latency)和响应时间(response time)容易混淆使用，但它们并不完全 一样。 通常响应时间是客户端看到的：除了处理请求时间（服务时间，service time)外，还包括来回网络延迟和各种排队延迟。 延迟则是请求花费在处理上的时间。

**应对负载增加的方法**

把无状态服务分布然后扩展至多台机器相对比较容易，而有状态服务从单个节点扩展 到分布式多机环境的复杂性会大大增加。 出于这个原因，直到最近通常的做法一直 是，将数据库运行在一个节点上（采用垂直扩展策略），直到高扩展性或高可用性的 要求迫使不得不做水平扩展。

**可维护性**

**可运维性： 运维更轻松**

**简单性：简化复杂度**

**可演化性： 易于改变**

## 第二章 数据模型与查询语言

### 关系模型与文档模型

数据被组织成关系(relations), 在SQL中称为表(table) , 其中每个关系都是元组 (tuples)的无序集合（在SQL中称为行）。

采用NoSQL数据库有这样几个驱动因素， 包括： 

• 比关系数据库更好的扩展性需求， 包括支持超大数据集或超高写入吞吐量。 

• 普遍偏爱免费和开源软件而不是商业数据库产品。 

• 关系模型不能很好地支持一些特定的查询操作。

 • 对关系模式一些限制性感到沮丧， 渴望更具动态和表达力的数据模型 。

**对象－关系不匹配**

**多对一与多对多的关系**

**文档数据库是否在重演历史？**

**网络模型**：网络模型由一个称为数据系统语言会议(Conference on Data System Languages,  CODASYL)的委员会进行标准化， 并由多个不同的数据库厂商实施， 它也被称为 CODASYL模型。

CODASYL模型是层次模型的推广。 在层次模型的树结构中， 每个记录只有一个父结 点；而在网络模型中， 一个记录可能有多个父结点。

**关系模型**：关系模型所做的则是定义了所有数据的格式： 关系（表）只是元组（行） 的集合。

**文档数据库的比较**

支持文档数据模型的主要论点是模式灵活性， 由千局部性而带来较好的性能， 对于某 些应用来说， 它更接近千应用程序所使用的数据结构。 关系模型则强在联结操作、 多 对一和多对多关系更简洁的表达上， 与文档模型抗衡。

**哪种数据模型的应用代码更简单？**

通常无法一概而论哪种数据模型的应用代码更简单。 这主要取决于数据项之间的关系 类型。 对于高度关联的数据， 文档模型不太适合， 关系模型可以胜任， 而图模型则是最为自然的。

**文档模型中的模式灵活性**

**查询的数据局部性**

**文档数据库与关系数据库的融合**

### 数据查询语言

**Web上的声明式查询**

**MapReduce查询**  MapReduce既不是声明式查询语言， 也不是一个完全命令式的查询API, 而是介于两 者之间： 查询的逻辑用代码片段来表示， 这些代码片段可以被处理框架重复地调用。 它主要基于许多函数式编程语言中的map (也称为collect) 和reduce (也称为fold或 inject) 函数。

### 图状数据模型

图由两种对象组成： 顶点（也称为结点或实体）和边（也称为关系或弧）。

**属性图**

 每个顶点包括： 

• 唯一的标识符。

• 出边的集合。

• 入边的集合。

• 属性的集合（键值对）。

 每个边包括： 

• 唯一的标识符。 

• 边开始的顶点（尾部顶点）。

• 边结束的顶点（头部顶点）。 

• 描述两个顶点间关系类型的标签。 

• 属性的集合（键值对）。

**Cypher查询语言**

**SQL中的图查询**

**三元存储与SPARQL**  在三元存储中， 所有信息都以非常简单的三部分形式存储（主体， 谓语， 客体）。

**RDF数据模型**

**SPARQL查询语言**

**Datalog基础**  Datalog的数据模型类似于三元存储模式， 但更为通用一些。 它采用 “ 谓语（主体， 客体）” 的表达方式而不是三元组（主体， 谓语， 客体）。